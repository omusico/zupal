package game.synerg.beings{	import flash.display.MovieClip;	import flash.events.Event;	import flash.ui.Mouse;	import flash.events.MouseEvent;	import Synerg;	import game.ID_element;	import game.synerg.tiles.*;	import game.synerg.beings.Being_abstract;	import game.synerg.brands.*;	import flash.geom.Point;	import game.synerg.Map;	public class Cow_tile extends Being_abstract {		public function Cow_tile() {			set_id(Synerg.new_id());			_max_speed=COW_MAX_SPEED;			clamp_loc=true;			nudge_x=Cow_tile.make_nudge();			nudge_y=Cow_tile.make_nudge();		}		private static var NUDGE_WIDTH=10;		private static var COW_MAX_SPEED=40;		private static function make_nudge() {			return (Math.random() * NUDGE_WIDTH) - (Math.random() * NUDGE_WIDTH);		}		override public function piece_width():uint {			return 1;		}		override public function piece_height():uint {			return 1;		}		override public function piece_type():String {			return "cow";		}		/* ****************** UPDATE ****************** */		private var _last_update:int=-1;		override public function update(t:int):void {			if (t==_last_update) {// prevent redundant execution				return;			}			if (moving()) {				move(t);			} else if (Math.random() < 0.1) {				move_random(top_speed()/2);			}			t=_last_update;		}		public static var COW_RANGE=3;		private var _ranch;		public function add_to_ranch(r: Ranch_tile) {			_ranch=r;			show_brand();			// NOTE: ranch brand is designed to only be added ONCE. 			// no faculty for repeated branding...		}		private var _brand:MovieClip;		//@TODO: one brand with many frames rather than seperate brands. 		public function show_brand() {			switch ((_ranch.ranch_number % Ranch_tile.BRANCH_VARIETIES) + 1) {				case 1 :					_brand = new Brand_1();					break;				case 2 :					_brand = new Brand_2();					break;				case 3 :					_brand = new Brand_3();					break;				case 4 :					_brand = new Brand_4();					break;				case 5 :					_brand = new Brand_5();					break;				case 6 :					_brand = new Brand_6();					break;			}			_brand.x=10;			_brand.y=10;			_brand.alpha=0.5;			if (_ranch.ranch_number>Ranch_tile.BRANCH_VARIETIES) {				var frame:int = (int)( _ranch.ranch_number/Ranch_tile.BRANCH_VARIETIES) + 1;				_brand.gotoAndStop(frame);			}			addChild(_brand);		}		override public function get map():Map {			return Synerg.being_map;		}					override	public function set_id(id: uint) {			super.set_id(id);			id_gfx.text = String(id);		}	}}